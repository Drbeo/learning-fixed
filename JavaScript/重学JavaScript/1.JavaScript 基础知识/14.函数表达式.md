#### 函数声明
```js
function sayHi() {
  alert( "Hello" );
}
```
#### 函数表达式
函数被创建并像其他赋值一样，被明确地分配给了一个变量。不管函数是被怎样定义的，都只是一个存储在变量中的值。
```js
let sayHi = function() {
  alert( "Hello" );
};
```
#### 匿名函数
```js
function() { alert("You agreed."); }
```

#### 为什么这里末尾会有个分号？
```js
function sayHi() {
  // ...
}

let sayHi = function() {
  // ...
};
```
* 在代码块的结尾不需要加分号 ;，像 `if { ... }`，`for { }`，`function f { }` 等语法结构后面都不用加。
* 函数表达式是在语句内部的：`let sayHi = ...;`，作为一个值。它不是代码块而是一个赋值语句。
* 不管值是什么，都建议在语句末尾添加分号 `;`。所以这里的分号与函数表达式本身没有任何关系，它只是用于终止语句。

### 回调函数
ask 的两个参数值 showOk 和 showCancel 可以被称为 **回调函数** 或简称 **回调**。
```js
function ask(question, yes, no) {
  if (confirm(question)) yes()
  else no();
}

function showOk() {
  alert( "You agreed." );
}

function showCancel() {
  alert( "You canceled the execution." );
}

// 用法：函数 showOk 和 showCancel 被作为参数传入到 ask
ask("Do you agree?", showOk, showCancel);
```

### 函数表达式 vs 函数声明
首先是语法：如何通过代码对它们进行区分。

* 函数声明：在主代码流中声明为单独的语句的函数。
```js
// 函数声明
function sum(a, b) {
  return a + b;
}
```
* 函数表达式：在一个表达式中或另一个语法结构中创建的函数。下面这个函数是在赋值表达式 = 右侧创建的：
```js
// 函数表达式
let sum = function(a, b) {
  return a + b;
};
```
更细微的差别是，JavaScript 引擎会在 什么时候 创建函数。

**函数表达式是在代码执行到达时被创建，并且仅从那一刻起可用。**

一旦代码执行到赋值表达式 let sum = function… 的右侧，此时就会开始创建该函数，并且可以从现在开始使用（分配，调用等）。

函数声明则不同。

**在函数声明被定义之前，它就可以被调用。**

这是内部算法的原故。当 JavaScript 准备 运行脚本时，首先会在脚本中寻找全局函数声明，并创建这些函数。我们可以将其视为“初始化阶段”。

在处理完所有函数声明后，代码才被执行。所以运行时能够使用这些函数。

函数声明 sayHi 是在 JavaScript 准备运行脚本时被创建的，在这个脚本的任何位置都可见。

```js
sayHi("John"); // Hello, John

function sayHi(name) {
  alert( `Hello, ${name}` );
}
```
函数表达式在代码执行到它时才会被创建。只会发生在 (*) 行。为时已晚。
```js
sayHi("John"); // error!

let sayHi = function(name) {  // (*) no magic any more
  alert( `Hello, ${name}` );
};
```

**严格模式下，当一个函数声明在一个代码块内时，它在该代码块内的任何位置都是可见的。但在代码块外不可见。**

#### **什么时候选择函数声明与函数表达式？**
根据经验，当我们需要声明一个函数时，首先考虑函数声明语法。它能够为组织代码提供更多的灵活性。因为我们可以在声明这些函数之前调用这些函数。

这对代码可读性也更好，因为在代码中查找 `function f(…) {…}` 比 `let f = function(…) {…}` 更容易。函数声明更“醒目”。

……但是，如果由于某种原因而导致函数声明不适合我们（我们刚刚看过上面的例子），那么应该使用函数表达式。

### 总结
* 函数是值。它们可以在代码的任何地方被分配，复制或声明。
* 如果函数在主代码流中被声明为单独的语句，则称为“函数声明”。
* 如果该函数是作为表达式的一部分创建的，则称其“函数表达式”。
* 在执行代码块之前，内部算法会先处理函数声明。所以函数声明在其被声明的代码块内的任何位置都是可见的。
* 函数表达式在执行流程到达时创建。
在大多数情况下，当我们需要声明一个函数时，最好使用函数声明，因为函数在被声明之前也是可见的。这使我们在代码组织方面更具灵活性，通常也会使得代码可读性更高。

所以，仅当函数声明不适合对应的任务时，才应使用函数表达式。在本章中，我们已经看到了几个例子，以后还会看到更多的例子。