
<figure>
<svg xmlns="http://www.w3.org/2000/svg" width="715px" height="528px" viewBox="0 0 715 528" version="1.1">
  <defs>
    <style>
      @import url(https://fonts.googleapis.com/css?family=Open+Sans:bold|Noto+Sans+SC:bold|Consolas:bold);
    </style>
  </defs>
  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g>
      <rect fill="#FFFFFF" x="0" y="0" width="715" height="528"/>
      <rect x="240" y="146" width="416" height="336" fill="#F5F2F0"/>
      <text font-family="Consolas-Bold, Consolas" font-size="14" font-weight="bold" y="163.8">
        <tspan x="244.7" fill="#0076AC">function </tspan><tspan fill="#000">pow</tspan><tspan fill="#999">(</tspan><tspan fill="#000">x</tspan><tspan fill="#999">, </tspan><tspan fill="#000">n</tspan><tspan fill="#999">) {</tspan>
        <tspan x="260.1" dy="17" fill="#0076AC">let </tspan><tspan fill="#000">result </tspan><tspan fill="#A77F57">= </tspan><tspan fill="#9b1855">1</tspan><tspan fill="#999">;</tspan>
        <tspan x="260.1" dy="34" fill="#0076AC">for </tspan><tspan fill="#999">(</tspan><tspan fill="#0076AC">let </tspan><tspan fill="#000">i </tspan><tspan fill="#A77F57">= </tspan><tspan fill="#9b1855">0</tspan><tspan fill="#999">; </tspan><tspan fill="#000">i </tspan><tspan fill="#A77F57">&lt; </tspan><tspan fill="#000">n</tspan><tspan fill="#999">; </tspan><tspan fill="#000">i</tspan><tspan fill="#A77F57">++</tspan><tspan fill="#999">) {</tspan>
        <tspan x="275.5" dy="17" fill="#000">result </tspan><tspan fill="#A77F57">*= </tspan><tspan fill="#000">x</tspan><tspan fill="#999">;</tspan>
        <tspan x="260.1" dy="17" fill="#999">}</tspan>
        <tspan x="260.1" dy="34" fill="#0076AC">return </tspan><tspan fill="#000">result</tspan><tspan fill="#999">;</tspan>
        <tspan x="244.7" dy="17" fill="#999">}</tspan>
        <tspan x="244.7" dy="34" fill="#0076AC">let </tspan><tspan fill="#000">x </tspan><tspan fill="#A77F57">= </tspan><tspan fill="#000">prompt</tspan><tspan fill="#999">(</tspan><tspan fill="#649A00">"x?"</tspan><tspan fill="#999">, </tspan><tspan fill="#649A00">""</tspan><tspan fill="#999">);</tspan>
        <tspan x="244.7" dy="17" fill="#0076AC">let </tspan><tspan fill="#000">n </tspan><tspan fill="#A77F57">= </tspan><tspan fill="#000">prompt</tspan><tspan fill="#999">(</tspan><tspan fill="#649A00">"n?"</tspan><tspan fill="#999">, </tspan><tspan fill="#649A00">""</tspan><tspan fill="#999">);</tspan>
        <tspan x="244.7" dy="34" fill="#0076AC">if </tspan><tspan fill="#999">(</tspan><tspan fill="#000">n </tspan><tspan fill="#A77F57">&lt; </tspan><tspan fill="#9b1855">0</tspan><tspan fill="#999">) {</tspan>
        <tspan x="260.1" dy="17" fill="#000">alert</tspan><tspan fill="#999">(</tspan><tspan fill="#649A00">`Power </tspan><tspan fill="#999">${</tspan><tspan fill="#000">n</tspan><tspan fill="#999">} </tspan><tspan fill="#649A00">is not supported,</tspan>
        <tspan x="275.5" dy="17" fill="#649A00">please enter an integer number, greater than 0`</tspan><tspan fill="#999">);</tspan>
        <tspan x="244.7" dy="17" fill="#999">} </tspan><tspan fill="#0076AC">else </tspan><tspan fill="#999">{</tspan>
        <tspan x="260.1" dy="17" fill="#000">alert</tspan><tspan fill="#999">( </tspan><tspan fill="#000">pow</tspan><tspan fill="#999">(</tspan><tspan fill="#000">x</tspan><tspan fill="#999">, </tspan><tspan fill="#000">n</tspan><tspan fill="#999">) );</tspan>
        <tspan x="244.7" dy="17" fill="#999">} </tspan>
      </text>
      <g fill="#EE6B47">
        <text font-family="OpenSans-Regular, Open Sans" font-size="12" font-weight="normal">
          <tspan x="249.069336" y="186">2</tspan>
        </text>
        <text font-family="Microsoft YaHei, Noto Sans SC" font-size="14" font-weight="bold">
          <tspan x="13.543457" y="84">函数名与圆括号之间和圆括号与参数之间没有空格</tspan>
          <tspan x="60" y="180">行首缩进两个空格</tspan>
          <tspan x="67.0517578" y="233">后面有一个空格</tspan>
          <tspan x="508.036133" y="455">} else { 不空行</tspan>
          <tspan x="265" y="501">嵌套调用两边各一个空格</tspan>
          <tspan x="63" y="365">逻辑块之间空一行</tspan>
          <tspan x="515.240723" y="350">一行不要太长</tspan>
          <tspan x="609" y="233">强制使用分号</tspan>
          <tspan x="560.253418" y="155">运算符两边有空格</tspan>
          <tspan x="464.23291" y="89">花括号在同一行，前面有空格</tspan>
          <tspan x="440" y="292">参数之间有一个空格</tspan>
          <tspan x="314" y="28">参数之间有一个空格</tspan>
        </text>
        <text font-family="OpenSans-Bold, OpenSans" font-size="14" font-weight="bold">
          <tspan x="70" y="214">for/if/while…</tspan>
        </text>
        <g stroke="#EE6B47" stroke-width="2" stroke-linecap="square">
          <path d="m250.5,355.5 v16"/>
          <path d="m247.5,360.5 3,-5"/>
          <path d="m250.5,372.5 3,-5"/>
          <path d="m250.5,355.5 3,5"/>
          <path d="m247.5,367.5 3,5"/>
          <path d="m259,180.5 v9.5"/>
          <path d="m245,180.5 v9.5"/>
          <path d="m245,190.5 h14"/>
        </g>
        <path d="m324.89,141.3 -46.81,-46.8 1.42,-1.42 46.8,46.81 4.2,-4.24 5,14.85 -14.85,-4.95z"/>
        <path d="m224,178.5 h-46.5 v-2 H224 v-6 l14,7 -14,7z"/>
        <path d="m224,211.5 h-46.5 v-2 H224 v-6 l14,7 -14,7z"/>
        <path d="m430.01,436.33 67.1,8.8 -0.26,1.98 -67.1,-8.8 -0.78,5.94 -12.97,-8.76 14.79,-5.1z"/>
        <path d="m319.7,466.64 16.7,16.34 -1.4,1.43 -16.7,-16.34 -4.2,4.28 -5.1,-14.79 14.9,4.8z"/>
        <path d="m218,362.5 h-39.56 v-2 h39.56 v-6 l14,7 -14,7z"/>
        <path d="m464.74,384.12 79.28,-29.9 0.7,1.87 -79.28,29.9 2.1,5.6 L452,390 462.62,378.5Z"/>
        <path d="m409,227.5 h192 v2 h-192 v6 l-14,-7 14,-7z"/>
        <path d="m423.98,197.6 161.29,-34.29 0.4,1.96 -161.28,34.29 1.24,5.87 -15.14,-3.93 12.23,-9.76z"/>
        <path d="m421.26,147.17 106.22,-49.5 0.84,1.8 -106.2,49.5 2.53,5.44 L409,154 l9.73,-12.26z"/>
        <path d="M362.5,132 V36 h2 v96 h6 l-7,14 -7,-14z"/>
        <path d="m409.73,313 25.2,-27.43 1.47,1.36 -25.2,27.42 4.42,4.06 -14.62,5.58 4.3,-15.05z"/>
        <path d="m373.98,467.8 -23.67,18.1 -1.22,-1.6 23.68,-18.1 -3.65,-4.76 15.38,-2.94 -6.87,14.06z"/>
      </g>
    </g>
  </g>
</svg>
</figure>

### 花括号
对于很短的代码，写成一行是可以接受的：例如 `if (cond) return null`。但是代码块通常更具可读性。

### 行的长度
一行代码的最大长度应该在团队层面上达成一致。通常是 80 或 120 个字符。
```js
// 回勾引号 ` 允许将字符串拆分为多行
let str = `
  ECMA International's TC39 is a group of JavaScript developers,
  implementers, academics, and more, collaborating with the community
  to maintain and evolve the definition of JavaScript.
`;
```
```js
if (
  id === 123 &&
  moonPhase === 'Waning Gibbous' &&
  zodiacSign === 'Libra'
) {
  letTheSorceryBegin();
}
```

### 缩进
* 水平方向上的缩进：2 或 4 个空格。

一个水平缩进通常由 2 或 4 个空格或者 “Tab” 制表符（key Tab）构成。选择哪一个方式是一场古老的圣战。如今空格更普遍一点。

选择空格而不是 tabs 的优点之一是，这允许你做出比 “Tab” 制表符更加灵活的缩进配置。
```js
show(parameters,
     aligned, // 左边有 5 个空格
     one,
     after,
     another
  ) {
  // ...
}
```

* 垂直方向上的缩进：用于将代码拆分成逻辑块的空行。

即使是单个函数通常也被分割为数个逻辑块。在下面的示例中，初始化的变量、主循环结构和返回值都被垂直分割了：

function pow(x, n) {
  let result = 1;
  //              <--
  for (let i = 0; i < n; i++) {
    result *= x;
  }
  //              <--
  return result;
}
插入一个额外的空行有助于使代码更具可读性。写代码时，不应该出现连续超过 9 行都没有被垂直分割的代码。

### 分号

每一个语句后面都应该有一个分号。即使它可以被跳过。

### 嵌套的层级
尽量避免代码嵌套层级过深。

在循环中，有时候使用 continue 指令以避免额外的嵌套是一个好主意。

```js
// bad
for (let i = 0; i < 10; i++) {
  if (cond) {
    ... // <- 又一层嵌套
  }
}
// good
for (let i = 0; i < 10; i++) {
  if (!cond) continue;
  ...  // <- 没有额外的嵌套
}
```

### 函数位置

这是因为阅读代码时，我们首先想要知道的是“它做了什么”。如果代码先行，那么在整个程序的最开始就展示出了这些信息。  

之后，可能我们就不需要阅读这些函数了，尤其是他们的名字清晰地展示出了他们的功能的时候。
```js
// 调用函数的代码
let elem = createElement();
setHandler(elem);
walkAround();

// --- 辅助函数 ---
function createElement() {
  ...
}

function setHandler(elem) {
  ...
}

function walkAround() {
  ...
}
```
### 风格指南
[Airbnb JavaScript 风格指南](https://github.com/airbnb/javascript) 这个十分严格 使用人数最多的

[StandardJS](https://standardjs.com/) 这个宽松一些

### 自动检查器

检查器（Linters）是可以自动检查代码样式，并提出改进建议的工具。

他们的妙处在于进行代码风格检查时，还可以发现一些代码错误，例如变量或函数名中的错别字。因此，即使你不想坚持某一种特定的代码风格，我也建议你安装一个检查器。

[ESLint](http://eslint.org/) — 强烈推荐使用。